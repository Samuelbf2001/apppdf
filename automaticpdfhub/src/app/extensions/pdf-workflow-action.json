{
  "type": "workflow-action",
  "data": {
    "title": "ğŸš€ AutomaticPDFHub - Generar PDF",
    "description": "Genera un documento PDF profesional usando templates personalizados y datos dinÃ¡micos del registro actual",
    "uid": "automaticpdfhub-generate-pdf-action",
    "actionUrl": "https://automaticpdfhub.cloud/api/hubspot/workflow-actions/generate-pdf",
    "published": true,
    "targetUrl": "https://automaticpdfhub.cloud/hubspot/workflow-config",
    "supportsMultipleEntities": false,
    "inputFields": [
      {
        "name": "templateId",
        "displayName": "ğŸ“„ Template de PDF",
        "description": "Selecciona el template que se usarÃ¡ para generar el documento PDF",
        "type": "enumeration",
        "required": true,
        "options": [
          {
            "label": "ğŸ—ï¸ Configurar Templates (Abrir Constructor)",
            "value": "OPEN_BUILDER",
            "description": "Abrir el constructor visual para crear o editar templates"
          }
        ]
      },
      {
        "name": "documentName",
        "displayName": "ğŸ“ Nombre del Documento", 
        "description": "Nombre personalizado para el documento PDF. Si se deja vacÃ­o, se generarÃ¡ automÃ¡ticamente basado en el template y datos del registro",
        "type": "string",
        "required": false,
        "defaultValue": "Documento-{{contact.firstname}}-{{deal.dealname}}"
      },
      {
        "name": "documentFormat",
        "displayName": "ğŸ“‹ Formato de Documento",
        "description": "Formato de salida del documento generado",
        "type": "enumeration", 
        "required": true,
        "defaultValue": "PDF",
        "options": [
          {
            "label": "ğŸ“„ PDF (Recomendado)",
            "value": "PDF",
            "description": "Genera un archivo PDF optimizado para impresiÃ³n y visualizaciÃ³n"
          },
          {
            "label": "ğŸ“° HTML",
            "value": "HTML", 
            "description": "Genera una pÃ¡gina HTML responsive"
          }
        ]
      },
      {
        "name": "uploadToFiles",
        "displayName": "ğŸ“‚ Subir a File Manager",
        "description": "Subir automÃ¡ticamente el documento generado al File Manager de HubSpot",
        "type": "bool",
        "required": false,
        "defaultValue": true
      },
      {
        "name": "attachToRecord",
        "displayName": "ğŸ“ Adjuntar al Registro",
        "description": "Adjuntar el documento como archivo al registro actual (contacto, deal o empresa)",
        "type": "bool",
        "required": false,
        "defaultValue": true
      },
      {
        "name": "notifyOwner",
        "displayName": "ğŸ“§ Notificar al Propietario",
        "description": "Enviar notificaciÃ³n por email al propietario del registro cuando el PDF estÃ© listo",
        "type": "bool", 
        "required": false,
        "defaultValue": false
      },
      {
        "name": "additionalEmails",
        "displayName": "ğŸ“® Emails Adicionales",
        "description": "Lista de emails adicionales para notificar (separados por comas)",
        "type": "string",
        "required": false,
        "helpText": "Ejemplo: admin@empresa.com, gerente@empresa.com"
      },
      {
        "name": "documentTags",
        "displayName": "ğŸ·ï¸ Etiquetas del Documento",
        "description": "Etiquetas para categorizar el documento (separadas por comas)",
        "type": "string",
        "required": false,
        "helpText": "Ejemplo: contrato, propuesta, factura"
      },
      {
        "name": "autoSendEmail",
        "displayName": "ğŸ“¤ EnvÃ­o AutomÃ¡tico",
        "description": "Enviar automÃ¡ticamente el PDF por email al contacto principal",
        "type": "bool",
        "required": false,
        "defaultValue": false
      },
      {
        "name": "emailSubject",
        "displayName": "ğŸ“§ Asunto del Email",
        "description": "Asunto personalizado para el email (solo si autoSendEmail estÃ¡ activado)",
        "type": "string",
        "required": false,
        "defaultValue": "Tu documento {{template.name}} estÃ¡ listo",
        "helpText": "Puedes usar variables como {{contact.firstname}}, {{deal.dealname}}, etc."
      }
    ],
    "outputFields": [
      {
        "name": "documentId",
        "displayName": "ğŸ†” ID del Documento",
        "description": "ID Ãºnico del documento PDF generado en AutomaticPDFHub",
        "type": "string"
      },
      {
        "name": "documentUrl",
        "displayName": "ğŸ”— URL de Descarga",
        "description": "URL pÃºblica para descargar el documento PDF generado",
        "type": "string"
      },
      {
        "name": "fileManagerId",
        "displayName": "ğŸ“‚ ID en File Manager",
        "description": "ID del archivo en el File Manager de HubSpot (si uploadToFiles estÃ¡ activado)",
        "type": "string"
      },
      {
        "name": "documentSize",
        "displayName": "ğŸ“ TamaÃ±o del Archivo",
        "description": "TamaÃ±o del documento PDF generado en bytes",
        "type": "number"
      },
      {
        "name": "generationStatus",
        "displayName": "âœ… Estado de GeneraciÃ³n",
        "description": "Estado final de la generaciÃ³n del documento",
        "type": "enumeration",
        "options": [
          {
            "label": "âœ… Completado",
            "value": "completed"
          },
          {
            "label": "â³ Procesando",
            "value": "processing" 
          },
          {
            "label": "âŒ Error",
            "value": "failed"
          }
        ]
      },
      {
        "name": "generatedAt",
        "displayName": "ğŸ“… Fecha de GeneraciÃ³n",
        "description": "Timestamp ISO 8601 de cuando se completÃ³ la generaciÃ³n",
        "type": "string"
      },
      {
        "name": "templateUsed",
        "displayName": "ğŸ“„ Template Utilizado",
        "description": "Nombre del template que se utilizÃ³ para generar el documento",
        "type": "string"
      },
      {
        "name": "variablesProcessed",
        "displayName": "ğŸ§© Variables Procesadas",
        "description": "NÃºmero de variables de HubSpot que se procesaron en el documento",
        "type": "number"
      },
      {
        "name": "processingTimeMs",
        "displayName": "â±ï¸ Tiempo de Procesamiento",
        "description": "Tiempo que tomÃ³ generar el documento en milisegundos",
        "type": "number"
      },
      {
        "name": "errorMessage",
        "displayName": "âŒ Mensaje de Error",
        "description": "DescripciÃ³n del error si la generaciÃ³n fallÃ³",
        "type": "string"
      }
    ],
    "objectTypes": [
      "contacts",
      "deals",
      "companies", 
      "tickets"
    ],
    "executionRules": {
      "supportsBatching": false,
      "maxRetries": 3,
      "retryDelayMs": 5000
    }
  }
}
